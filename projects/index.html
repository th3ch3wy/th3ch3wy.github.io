<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projects — Chuyue Zhang</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0b0c10;--panel:#111318;--text:#e6e6e6;--muted:#a8b3cf;--brand:#6ea8fe;--accent:#7ef0e3;--border:#1b1f2a;--ring:#2b354f}
    @media (prefers-color-scheme: light){:root{--bg:#f7f8fb;--panel:#fff;--text:#0f172a;--muted:#475569;--brand:#355cff;--accent:#00b3a4;--border:#e5e7eb;--ring:#dbe1ff}}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:radial-gradient(1200px 600px at 80% -10%,var(--ring),transparent 40%),var(--bg)}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;justify-content:space-between;align-items:center;gap:16px;padding:14px 0}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800}
    .brand-mark{height:28px;width:28px;display:grid;place-items:center;border-radius:9px;background:linear-gradient(135deg,var(--brand),var(--accent));color:#0b0c10}
    .search{margin:16px 0;display:flex;gap:10px;flex-wrap:wrap}
    input[type=search]{flex:1;min-width:220px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);color:var(--text)}
    label{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:14px}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-top:10px}
    @media(max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:640px){.grid{grid-template-columns:1fr}}
    .card{border:1px solid var(--border);background:color-mix(in oklab,var(--panel) 94%,transparent);border-radius:14px;overflow:hidden}
    .card:hover{outline:2px solid color-mix(in oklab,var(--brand) 40%,transparent);outline-offset:2px}
    .card .hd{padding:14px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;gap:10px}
    .name{font-weight:700}
    .meta{color:var(--muted);font-size:12px}
    .card .bd{padding:14px;color:var(--muted);min-height:56px}
    .tagrow{display:flex;gap:8px;flex-wrap:wrap;padding:12px 14px;border-top:1px solid var(--border)}
    .tag{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted)}
    .toolbar{display:flex;gap:10px;align-items:center}
    .btn{border:1px solid var(--border);background:var(--panel);padding:8px 12px;border-radius:10px;font-weight:600}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <a class="brand" href="/"><span class="brand-mark">CZ</span><span>Chuyue Zhang</span></a>
      <div class="toolbar">
        <a class="btn" href="/">Home</a>
        <a class="btn" href="https://github.com/th3ch3wy" target="_blank" rel="noreferrer">GitHub</a>
      </div>
    </header>

    <h1 style="margin:6px 0 2px">Projects</h1>
    <p style="margin:0;color:var(--muted)">Auto-listing your public repositories. Use the search to filter. Tip: name CS180 repos with “cs180” to find them fast.</p>

    <div class="search">
      <input id="q" type="search" placeholder="Filter by name or description (e.g., cs180, proj0, panorama)" />
      <label><input id="only180" type="checkbox" /> CS180 only (name contains “cs180”)</label>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
  </div>

  <script>
    const user = "th3ch3wy";
    const grid = document.getElementById("grid");
    const q = document.getElementById("q");
    const only180 = document.getElementById("only180");

    async function load() {
      try {
        const res = await fetch(`https://api.github.com/users/${user}/repos?per_page=100&sort=updated`);
        const repos = await res.json();
        render(repos);
        q.addEventListener('input', () => render(repos));
        only180.addEventListener('change', () => render(repos));
      } catch (e) {
        grid.innerHTML = `<p>Couldn’t load repos. See <a href="https://github.com/${user}" target="_blank" rel="noreferrer">your GitHub profile</a>.</p>`;
      }
    }

    function render(repos) {
      const term = q.value.toLowerCase().trim();
      const filtered = repos.filter(r => {
        const inName = r.name.toLowerCase().includes(term);
        const inDesc = (r.description || "").toLowerCase().includes(term);
        const is180 = r.name.toLowerCase().includes("cs180");
        return (term ? (inName || inDesc) : true) && (!only180.checked || is180);
      });

      grid.innerHTML = filtered.map(r => `
        <a class="card" href="${r.html_url}" target="_blank" rel="noreferrer">
          <div class="hd">
            <div>
              <div class="name">${r.name}</div>
              <div class="meta">${r.language || "—"} • Updated ${new Date(r.updated_at).toLocaleDateString()}</div>
            </div>
            <div class="meta">★ ${r.stargazers_count} · ⇵ ${r.forks_count}</div>
          </div>
          <div class="bd">${r.description ? r.description : "No description yet."}</div>
          <div class="tagrow">
            ${r.private ? `<span class="tag">Private</span>` : `<span class="tag">Public</span>`}
            ${r.archived ? `<span class="tag">Archived</span>` : ""}
          </div>
        </a>
      `).join('');
    }

    load();
  </script>
</body>
</html>
